:root{
  --bg:#0b1020; --panel:#eef3ff; --panel2:#dbe6ff; --accent:#f59e0b;
  --text:#eaf2ff; --ink:#0f172a; --muted:#6b7280; --ok:#10b981;
}
*{box-sizing:border-box} html,body{height:100%}
body{
  margin:0; font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,sans-serif; color:var(--text);
  background: radial-gradient(1400px 900px at 80% -10%, #1b2c68 0%, #0b1020 60%, #050713 100%);
  overflow-x:hidden;
}

/* ===== Title ===== */
.title{position:sticky; top:0; text-align:center; padding:12px; z-index:50;
  font-weight:900; font-size:clamp(22px,3.6vw,40px); letter-spacing:.4px;
  color:#ffe6e6; text-shadow:0 5px 18px #0009, 0 1px 0 #fff3;
  background:linear-gradient(180deg, #0b1020aa, transparent);
  backdrop-filter: blur(6px);
}

/* ===== Layout ===== */
.stage-wrap{display:none} .stage-wrap.active{display:block}
.grid-2{display:grid; grid-template-columns:38% 1fr; gap:16px; padding:16px 20px 26px; min-height:calc(100dvh - 64px)}
.grid-1{display:grid; grid-template-columns:1fr; gap:16px; padding:16px 20px 26px; min-height:calc(100dvh - 64px)}
.col{position:relative}

/* ===== Card ===== */
.card{
  position:relative; height:min(78vh, 780px);
  background:linear-gradient(180deg,var(--panel),var(--panel2));
  border:2px solid #c7d2fe; border-radius:16px; box-shadow:0 18px 50px #0007;
  display:grid; grid-template-rows:auto 1fr auto; padding:16px; color:var(--ink);
}
.sign{margin:0 auto 10px; width:min(560px,92%); text-align:center; padding:14px 16px;
  background:#fffffff2; border:2px solid #a5b4fc; border-radius:12px; font-weight:800}
.controls{display:flex; justify-content:center; gap:10px; margin-top:10px}
.btn{background:var(--accent); color:#111; font-weight:800; padding:10px 16px; border:0; border-radius:12px; cursor:pointer}
.btn:disabled{opacity:.5; cursor:not-allowed}
.back{background:#cbd5e1; color:#0f172a}
.plinth{position:absolute; left:50%; bottom:-14px; transform:translateX(-50%);
  width:min(520px,90%); height:34px; background:linear-gradient(#b68b6b,#915f3e); border-radius:0 0 12px 12px; box-shadow:0 14px 30px #0008}

/* ===== Shelf / Slots ===== */
.slots{position:relative; height:78vh; background:#e5ecff; border-radius:16px; padding:14px; border:2px solid #c7d2fe; box-shadow:0 18px 40px #0006}
.row{display:flex; gap:12px; align-items:center; padding:6px 0}
.slot{flex:0 0 auto; width:64px; height:64px; border-radius:12px; display:grid; place-items:center; background:#ffffffcc; border:2px solid #eef; cursor:pointer; transition:.12s}
.slot img{max-width:54px; max-height:54px; user-select:none}
.slot:hover{transform:translateY(-2px)} .slot.selected{outline:3px solid var(--ok); box-shadow:0 0 0 6px #10b98133}

/* ===== Stage 3 (uji) ===== */
.bench{justify-self:center; width:min(980px,96%); background:linear-gradient(#efcf9a,#c39254); border-radius:14px; padding:14px; box-shadow:inset 0 3px 0 #fff6}
.panel h3{margin:6px 0 10px; text-align:center}
.plates{display:flex; gap:18px; justify-content:center; flex-wrap:wrap; padding:8px 0 14px}
.plate{width:140px; height:140px; border-radius:50%; display:grid; place-items:center; background:#f3f4f6; box-shadow:inset 0 10px 18px #0002; position:relative; border:3px solid #d1d5db; user-select:none; color:#0f172a; font-weight:900}
.plate .label{position:absolute; bottom:-24px; width:100%; text-align:center}
.bb{background:#0c1e4a; border-color:#1f3b73; color:#e7efff}
.purple{background:#3d1d6e; border-color:#5b32a1; color:#f2e8ff}
.reddish{background:#6f3a12; border-color:#5b2e0d; color:#ffe9d5}
.neg{background:#d79b11; border-color:#b57f05; color:#111}
.dropzone{display:grid; gap:6px; place-items:center}
.drag{width:120px; cursor:grab; user-select:none}
.drag:active{cursor:grabbing}
.drag-target{outline:3px dashed #0f172a; outline-offset:6px; border-radius:16px}

/* controls tengah + status nempel di antara tombol */
.controls-center{ justify-content: center; }
.controls-inner{ display:flex; align-items:center; }
.controls-inner > *{ margin-right:10px; }
.controls-inner > *:last-child{ margin-right:0; }
.status-badge{ background:#0f172a; color:#fff; padding:8px 12px; border-radius:10px; font-weight:800; box-shadow:0 2px 8px #0003 }

/* ===== Table ===== */
table{width:min(900px,95%); margin:8px auto; border-collapse:collapse; color:#0f172a; background:#fff; border-radius:12px; overflow:hidden}
th,td{border:1px solid #cbd5e1; padding:12px; font-size:15px}
th{background:#e5edff; text-transform:uppercase; font-weight:900}
.posTxt{color:#065f46; font-weight:800}
.dexTxt{color:#4c1d95; font-weight:800}
.gliTxt{color:#7c2d12; font-weight:800}
.negTxt{color:#991b1b; font-weight:800}

@media (max-width:980px){
  .grid-2{grid-template-columns:1fr}
  .plate{width:120px; height:120px}
  .controls-inner{flex-wrap:wrap; justify-content:center}
}
